<!DOCTYPE html>
<html lang="en">
<head>
  <script type="text/javascript" src="https://miro.com/app/static/sdk.1.1.js"></script>
  <meta charset="UTF-8">
  <title>create card</title>

  <script>

    async function createWidget() {

      let card = await miro.board.widgets.create([
        {type: 'card', title: 'I am a card'}
      ])
    }

    const options = {
      draggableItemSelector: '#box',
      onClick: async (targetElement) => {
        createWidget()
      },

    }

    miro.onReady(() => {
      miro.board.ui.initDraggableItemsContainer(document.body, options);

      miro.initialize({
        extensionPoints: {
          bottomBar: {
            title: 'Create card',
            svgIcon:  ' <rect x="2" y="2" rx="2" ry="2" width="18" height="18" fill="red" stroke="currentColor" stroke-width="2" />',
            onClick: async (targetElement) => {
              createWidget();
            }
          }
        }
      });

    })


 </script>
</head>
<body>

</body>
</html>
